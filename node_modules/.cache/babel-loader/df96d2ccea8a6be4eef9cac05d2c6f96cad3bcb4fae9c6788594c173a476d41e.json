{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"align\", \"background\", \"onAlign\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.indexOf(n) >= 0) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { forwardRef, useContext, useEffect, useMemo } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, parseMetricToNum, PortalContext, useForwardedRef } from '../../utils';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop';\nimport { OptionsContext } from '../../contexts/OptionsContext';\nimport { useThemeValue } from '../../utils/useThemeValue';\n\n// using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\n// Gets the closest ancestor positioned element\nvar getParentNode = function getParentNode(element) {\n  var _element$offsetParent;\n  return (_element$offsetParent = element.offsetParent) != null ? _element$offsetParent : element.parentNode;\n};\n\n// return the containing block\nvar getContainingBlock = function getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n  while (currentNode instanceof window.HTMLElement && !['html', 'body'].includes(currentNode.nodeName.toLowerCase())) {\n    var _currentNode;\n    var css = window.getComputedStyle(currentNode);\n    // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n    if ((css.transform ? css.transform !== 'none' : false) || (css.perspective ? css.perspective !== 'none' : false) || (css.backdropFilter ? css.backdropFilter !== 'none' : false) || css.contain === 'paint' || ['transform', 'perspective'].includes(css.willChange) || css.willChange === 'filter' || (css.filter ? css.filter !== 'none' : false)) {\n      return currentNode;\n    }\n    currentNode = (_currentNode = currentNode) == null ? void 0 : _currentNode.parentNode;\n  }\n  return null;\n};\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    _ref$align = _ref.align,\n    align = _ref$align === void 0 ? defaultAlign : _ref$align,\n    background = _ref.background,\n    onAlign = _ref.onAlign,\n    children = _ref.children,\n    dropTarget = _ref.dropTarget,\n    elevation = _ref.elevation,\n    onClickOutside = _ref.onClickOutside,\n    onEsc = _ref.onEsc,\n    onKeyDown = _ref.onKeyDown,\n    _ref$overflow = _ref.overflow,\n    overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n    plain = _ref.plain,\n    _ref$responsive = _ref.responsive,\n    responsive = _ref$responsive === void 0 ? true : _ref$responsive,\n    restrictFocus = _ref.restrictFocus,\n    _ref$stretch = _ref.stretch,\n    stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n    trapFocus = _ref.trapFocus,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var containerTarget = useContext(ContainerTargetContext);\n  var theme = useThemeValue();\n  // dropOptions was created to preserve backwards compatibility\n  var _useContext = useContext(OptionsContext),\n    dropOptions = _useContext.drop;\n  var portalContext = useContext(PortalContext);\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useForwardedRef(ref);\n  useEffect(function () {\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = event.composed && event.composedPath()[0] || event.target;\n      while (clickedPortalId === null && node && node !== document && !(node instanceof ShadowRoot)) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n    return function () {\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [onClickOutside, containerTarget, portalContext]);\n  useEffect(function () {\n    var target = (dropTarget == null ? void 0 : dropTarget.current) || dropTarget;\n    var notifyAlign = function notifyAlign() {\n      var _dropRef$current;\n      var styleCurrent = dropRef == null || (_dropRef$current = dropRef.current) == null ? void 0 : _dropRef$current.style;\n      var alignControl = (styleCurrent == null ? void 0 : styleCurrent.top) !== '' ? 'top' : 'bottom';\n      onAlign(alignControl);\n    };\n\n    // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var container = dropRef.current;\n      if (container && target) {\n        var _containingBlockRect$, _containingBlockRect, _containingBlockRect$2, _containingBlockRect2, _containingBlockRect$3, _containingBlockRect3, _containingBlock$scro, _containingBlock2, _containingBlock$scro2, _containingBlock3;\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        }\n        // get bounds\n        var targetRect = target.getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect();\n        // determine width\n        var width;\n        if (stretch) {\n          width = Math.min(stretch === 'align' ? Math.min(targetRect.width, containerRect.width) : Math.max(targetRect.width, containerRect.width), windowWidth);\n        } else {\n          width = Math.min(containerRect.width, windowWidth);\n        }\n        // set left position\n        var left;\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        }\n        // set top or bottom position\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        /* If responsive is true and the Drop doesn't have enough room\n          to be fully visible and there is more room in the other\n          direction, change the Drop to display above/below. If there is\n          less room in the other direction leave the Drop in its current\n          position. */\n        if (responsive && (align.top === 'top' && targetRect.top < 0 || align.bottom === 'top' && targetRect.top - containerRect.height <= 0 && targetRect.bottom + containerRect.height < windowHeight)) {\n          top = targetRect.bottom;\n          maxHeight = top;\n        } else if (responsive && (align.bottom === 'bottom' && targetRect.bottom > windowHeight || align.top === 'bottom' && targetRect.bottom + containerRect.height >= windowHeight && targetRect.top - containerRect.height > 0)) {\n          bottom = targetRect.top;\n          maxHeight = bottom;\n        } else if (align.top === 'top') {\n          top = targetRect.top;\n          maxHeight = windowHeight - top;\n        } else if (align.top === 'bottom') {\n          top = targetRect.bottom;\n          maxHeight = windowHeight - top;\n        } else if (align.bottom === 'top') {\n          bottom = targetRect.top;\n          maxHeight = bottom;\n        } else if (align.bottom === 'bottom') {\n          bottom = targetRect.bottom;\n          maxHeight = bottom;\n        } else {\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n        }\n        var containingBlock;\n        var containingBlockRect;\n        // dropOptions was created to preserve backwards compatibility\n        if (dropOptions != null && dropOptions.checkContainingBlock) {\n          var _containingBlock;\n          // return the containing block for absolute elements or `null`\n          // for fixed elements\n          containingBlock = getContainingBlock(container);\n          containingBlockRect = (_containingBlock = containingBlock) == null ? void 0 : _containingBlock.getBoundingClientRect();\n        }\n\n        // compute viewport offsets\n        var viewportOffsetLeft = (_containingBlockRect$ = (_containingBlockRect = containingBlockRect) == null ? void 0 : _containingBlockRect.left) != null ? _containingBlockRect$ : 0;\n        var viewportOffsetTop = (_containingBlockRect$2 = (_containingBlockRect2 = containingBlockRect) == null ? void 0 : _containingBlockRect2.top) != null ? _containingBlockRect$2 : 0;\n        var viewportOffsetBottom = (_containingBlockRect$3 = (_containingBlockRect3 = containingBlockRect) == null ? void 0 : _containingBlockRect3.bottom) != null ? _containingBlockRect$3 : windowHeight;\n        var containerOffsetLeft = (_containingBlock$scro = (_containingBlock2 = containingBlock) == null ? void 0 : _containingBlock2.scrollLeft) != null ? _containingBlock$scro : 0;\n        var containerOffsetTop = (_containingBlock$scro2 = (_containingBlock3 = containingBlock) == null ? void 0 : _containingBlock3.scrollTop) != null ? _containingBlock$scro2 : 0;\n        container.style.left = left - viewportOffsetLeft + containerOffsetLeft + \"px\";\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        }\n        // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n        if (top !== '') {\n          container.style.top = top - viewportOffsetTop + containerOffsetTop + \"px\";\n        }\n        if (bottom !== '') {\n          container.style.bottom = viewportOffsetBottom - bottom - containerOffsetTop + \"px\";\n        }\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n      if (onAlign) notifyAlign();\n    };\n    var scrollParents;\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(target);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n    };\n  }, [align, containerTarget, onAlign, dropTarget, portalContext, portalId, responsive, restrictFocus, stretch, theme.drop, dropRef, dropOptions]);\n  useEffect(function () {\n    if (restrictFocus) {\n      dropRef.current.focus();\n    }\n  }, [dropRef, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    \"aria-label\": a11yTitle || ariaLabel,\n    ref: dropRef,\n    background: background,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.elevation || theme.global.drop.shadowSize ||\n    // backward compatibility\n    'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n  var themeContextValue = useMemo(function () {\n    var dark;\n    if (background || theme.global.drop.background) {\n      dark = backgroundIsDark(background || theme.global.drop.background, theme);\n    }\n    return _extends({}, theme, {\n      dark: dark\n    });\n  }, [background, theme]);\n  var dark = themeContextValue.dark;\n  if (dark !== undefined && dark !== theme.dark) {\n    content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: themeContextValue\n    }, content);\n  }\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard\n  // should capture keyboard event before other elements,\n  // such as Layer\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n  , {\n    capture: true,\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","forwardRef","useContext","useEffect","useMemo","ThemeContext","ContainerTargetContext","FocusedContainer","backgroundIsDark","findScrollParents","parseMetricToNum","PortalContext","useForwardedRef","Keyboard","StyledDrop","OptionsContext","useThemeValue","preventLayerClose","event","key","keyCode","which","stopPropagation","getParentNode","element","_element$offsetParent","offsetParent","parentNode","getContainingBlock","currentNode","window","HTMLElement","includes","nodeName","toLowerCase","_currentNode","css","getComputedStyle","transform","perspective","backdropFilter","contain","willChange","filter","defaultAlign","top","left","DropContainer","_ref","ref","a11yTitle","ariaLabel","_ref$align","align","background","onAlign","children","dropTarget","elevation","onClickOutside","onEsc","onKeyDown","_ref$overflow","overflow","plain","_ref$responsive","responsive","restrictFocus","_ref$stretch","stretch","trapFocus","rest","containerTarget","theme","_useContext","dropOptions","drop","portalContext","portalId","nextPortalContext","concat","dropRef","onClickDocument","clickedPortalId","node","composed","composedPath","target","document","ShadowRoot","attr","getAttribute","parseInt","addEventListener","removeEventListener","current","notifyAlign","_dropRef$current","styleCurrent","style","alignControl","place","preserveHeight","windowWidth","innerWidth","windowHeight","innerHeight","container","_containingBlockRect$","_containingBlockRect","_containingBlockRect$2","_containingBlockRect2","_containingBlockRect$3","_containingBlockRect3","_containingBlock$scro","_containingBlock2","_containingBlock$scro2","_containingBlock3","bottom","width","maxHeight","targetRect","getBoundingClientRect","containerRect","Math","min","max","right","height","containingBlock","containingBlockRect","checkContainingBlock","_containingBlock","viewportOffsetLeft","viewportOffsetTop","viewportOffsetBottom","containerOffsetLeft","scrollLeft","containerOffsetTop","scrollTop","scrollParents","addScrollListeners","forEach","scrollParent","removeScrollListeners","onResize","focus","content","createElement","global","shadowSize","undefined","tabIndex","alignProp","themeContextValue","dark","Provider","value","capture"],"sources":["/home/uranus/portfolio/node_modules/grommet/es6/components/Drop/DropContainer.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"align\", \"background\", \"onAlign\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef, useContext, useEffect, useMemo } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, parseMetricToNum, PortalContext, useForwardedRef } from '../../utils';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop';\nimport { OptionsContext } from '../../contexts/OptionsContext';\nimport { useThemeValue } from '../../utils/useThemeValue';\n\n// using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\n// Gets the closest ancestor positioned element\nvar getParentNode = function getParentNode(element) {\n  var _element$offsetParent;\n  return (_element$offsetParent = element.offsetParent) != null ? _element$offsetParent : element.parentNode;\n};\n\n// return the containing block\nvar getContainingBlock = function getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n  while (currentNode instanceof window.HTMLElement && !['html', 'body'].includes(currentNode.nodeName.toLowerCase())) {\n    var _currentNode;\n    var css = window.getComputedStyle(currentNode);\n    // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n    if ((css.transform ? css.transform !== 'none' : false) || (css.perspective ? css.perspective !== 'none' : false) || (css.backdropFilter ? css.backdropFilter !== 'none' : false) || css.contain === 'paint' || ['transform', 'perspective'].includes(css.willChange) || css.willChange === 'filter' || (css.filter ? css.filter !== 'none' : false)) {\n      return currentNode;\n    }\n    currentNode = (_currentNode = currentNode) == null ? void 0 : _currentNode.parentNode;\n  }\n  return null;\n};\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    _ref$align = _ref.align,\n    align = _ref$align === void 0 ? defaultAlign : _ref$align,\n    background = _ref.background,\n    onAlign = _ref.onAlign,\n    children = _ref.children,\n    dropTarget = _ref.dropTarget,\n    elevation = _ref.elevation,\n    onClickOutside = _ref.onClickOutside,\n    onEsc = _ref.onEsc,\n    onKeyDown = _ref.onKeyDown,\n    _ref$overflow = _ref.overflow,\n    overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n    plain = _ref.plain,\n    _ref$responsive = _ref.responsive,\n    responsive = _ref$responsive === void 0 ? true : _ref$responsive,\n    restrictFocus = _ref.restrictFocus,\n    _ref$stretch = _ref.stretch,\n    stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n    trapFocus = _ref.trapFocus,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var containerTarget = useContext(ContainerTargetContext);\n  var theme = useThemeValue();\n  // dropOptions was created to preserve backwards compatibility\n  var _useContext = useContext(OptionsContext),\n    dropOptions = _useContext.drop;\n  var portalContext = useContext(PortalContext);\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useForwardedRef(ref);\n  useEffect(function () {\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = event.composed && event.composedPath()[0] || event.target;\n      while (clickedPortalId === null && node && node !== document && !(node instanceof ShadowRoot)) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n    return function () {\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [onClickOutside, containerTarget, portalContext]);\n  useEffect(function () {\n    var target = (dropTarget == null ? void 0 : dropTarget.current) || dropTarget;\n    var notifyAlign = function notifyAlign() {\n      var _dropRef$current;\n      var styleCurrent = dropRef == null || (_dropRef$current = dropRef.current) == null ? void 0 : _dropRef$current.style;\n      var alignControl = (styleCurrent == null ? void 0 : styleCurrent.top) !== '' ? 'top' : 'bottom';\n      onAlign(alignControl);\n    };\n\n    // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var container = dropRef.current;\n      if (container && target) {\n        var _containingBlockRect$, _containingBlockRect, _containingBlockRect$2, _containingBlockRect2, _containingBlockRect$3, _containingBlockRect3, _containingBlock$scro, _containingBlock2, _containingBlock$scro2, _containingBlock3;\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        }\n        // get bounds\n        var targetRect = target.getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect();\n        // determine width\n        var width;\n        if (stretch) {\n          width = Math.min(stretch === 'align' ? Math.min(targetRect.width, containerRect.width) : Math.max(targetRect.width, containerRect.width), windowWidth);\n        } else {\n          width = Math.min(containerRect.width, windowWidth);\n        }\n        // set left position\n        var left;\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        }\n        // set top or bottom position\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        /* If responsive is true and the Drop doesn't have enough room\n          to be fully visible and there is more room in the other\n          direction, change the Drop to display above/below. If there is\n          less room in the other direction leave the Drop in its current\n          position. */\n        if (responsive && (align.top === 'top' && targetRect.top < 0 || align.bottom === 'top' && targetRect.top - containerRect.height <= 0 && targetRect.bottom + containerRect.height < windowHeight)) {\n          top = targetRect.bottom;\n          maxHeight = top;\n        } else if (responsive && (align.bottom === 'bottom' && targetRect.bottom > windowHeight || align.top === 'bottom' && targetRect.bottom + containerRect.height >= windowHeight && targetRect.top - containerRect.height > 0)) {\n          bottom = targetRect.top;\n          maxHeight = bottom;\n        } else if (align.top === 'top') {\n          top = targetRect.top;\n          maxHeight = windowHeight - top;\n        } else if (align.top === 'bottom') {\n          top = targetRect.bottom;\n          maxHeight = windowHeight - top;\n        } else if (align.bottom === 'top') {\n          bottom = targetRect.top;\n          maxHeight = bottom;\n        } else if (align.bottom === 'bottom') {\n          bottom = targetRect.bottom;\n          maxHeight = bottom;\n        } else {\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n        }\n        var containingBlock;\n        var containingBlockRect;\n        // dropOptions was created to preserve backwards compatibility\n        if (dropOptions != null && dropOptions.checkContainingBlock) {\n          var _containingBlock;\n          // return the containing block for absolute elements or `null`\n          // for fixed elements\n          containingBlock = getContainingBlock(container);\n          containingBlockRect = (_containingBlock = containingBlock) == null ? void 0 : _containingBlock.getBoundingClientRect();\n        }\n\n        // compute viewport offsets\n        var viewportOffsetLeft = (_containingBlockRect$ = (_containingBlockRect = containingBlockRect) == null ? void 0 : _containingBlockRect.left) != null ? _containingBlockRect$ : 0;\n        var viewportOffsetTop = (_containingBlockRect$2 = (_containingBlockRect2 = containingBlockRect) == null ? void 0 : _containingBlockRect2.top) != null ? _containingBlockRect$2 : 0;\n        var viewportOffsetBottom = (_containingBlockRect$3 = (_containingBlockRect3 = containingBlockRect) == null ? void 0 : _containingBlockRect3.bottom) != null ? _containingBlockRect$3 : windowHeight;\n        var containerOffsetLeft = (_containingBlock$scro = (_containingBlock2 = containingBlock) == null ? void 0 : _containingBlock2.scrollLeft) != null ? _containingBlock$scro : 0;\n        var containerOffsetTop = (_containingBlock$scro2 = (_containingBlock3 = containingBlock) == null ? void 0 : _containingBlock3.scrollTop) != null ? _containingBlock$scro2 : 0;\n        container.style.left = left - viewportOffsetLeft + containerOffsetLeft + \"px\";\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        }\n        // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n        if (top !== '') {\n          container.style.top = top - viewportOffsetTop + containerOffsetTop + \"px\";\n        }\n        if (bottom !== '') {\n          container.style.bottom = viewportOffsetBottom - bottom - containerOffsetTop + \"px\";\n        }\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n      if (onAlign) notifyAlign();\n    };\n    var scrollParents;\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(target);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n    };\n  }, [align, containerTarget, onAlign, dropTarget, portalContext, portalId, responsive, restrictFocus, stretch, theme.drop, dropRef, dropOptions]);\n  useEffect(function () {\n    if (restrictFocus) {\n      dropRef.current.focus();\n    }\n  }, [dropRef, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    \"aria-label\": a11yTitle || ariaLabel,\n    ref: dropRef,\n    background: background,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.elevation || theme.global.drop.shadowSize ||\n    // backward compatibility\n    'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n  var themeContextValue = useMemo(function () {\n    var dark;\n    if (background || theme.global.drop.background) {\n      dark = backgroundIsDark(background || theme.global.drop.background, theme);\n    }\n    return _extends({}, theme, {\n      dark: dark\n    });\n  }, [background, theme]);\n  var dark = themeContextValue.dark;\n  if (dark !== undefined && dark !== theme.dark) {\n    content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: themeContextValue\n    }, content);\n  }\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard\n  // should capture keyboard event before other elements,\n  // such as Layer\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n  , {\n    capture: true,\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}