{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"dropHeight\", \"dropProps\", \"focus\", \"focusIndicator\", \"icon\", \"id\", \"mask\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"placeholder\", \"plain\", \"reverse\", \"textAlign\", \"value\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.indexOf(n) >= 0) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { sizeStyle, useForwardedRef, useSizedIcon } from '../../utils';\nimport { StyledMaskedInput, StyledMaskedInputContainer, StyledIcon } from './StyledMaskedInput';\nimport { MaskedInputPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nimport { withTheme } from '../../default-props';\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n  var valueIndex = 0;\n  var maskIndex = 0;\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n    if (item.fixed) {\n      var length = item.fixed.length;\n\n      // grab however much of value (starting at valueIndex) matches\n      // item.fixed. If none matches it and there is more in value\n      // add in the fixed item.\n      var matching = 0;\n      while (matching < length && value[valueIndex + matching] === item.fixed[matching]) {\n        matching += 1;\n      }\n      if (matching > 0) {\n        var part = value.slice(valueIndex, valueIndex + matching);\n        if (valueIndex + matching < value.length) {\n          // matched part of the fixed portion but there's more stuff\n          // after it. Go ahead and fill in the entire fixed chunk\n          part = item.fixed;\n        }\n        valueParts.push({\n          part: part,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + matching - 1\n        });\n        valueIndex += matching;\n      } else {\n        valueParts.push({\n          part: item.fixed,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + length - 1\n        });\n      }\n      maskIndex += 1;\n      found = true;\n    } else if (item.options && item.restrictToOptions !== false) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse()\n      // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n        return false;\n      });\n    }\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n          _length -= 1;\n        }\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n  return valueParts;\n};\nvar defaultMask = [{\n  regexp: /[^]*/\n}];\nvar ContainerBox = styled(Box).attrs(withTheme).withConfig({\n  displayName: \"MaskedInput__ContainerBox\",\n  componentId: \"sc-af8hzu-0\"\n})([\"\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar dropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar MaskedInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    dropHeight = _ref.dropHeight,\n    dropProps = _ref.dropProps,\n    focusProp = _ref.focus,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    icon = _ref.icon,\n    id = _ref.id,\n    _ref$mask = _ref.mask,\n    mask = _ref$mask === void 0 ? defaultMask : _ref$mask,\n    name = _ref.name,\n    _onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    onKeyDown = _ref.onKeyDown,\n    placeholder = _ref.placeholder,\n    plain = _ref.plain,\n    reverse = _ref.reverse,\n    textAlign = _ref.textAlign,\n    valueProp = _ref.value,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useThemeValue();\n  var formContext = useContext(FormContext);\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: ''\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n  var valueParts = useMemo(function () {\n    return parseValue(mask, value);\n  }, [mask, value]);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n\n  // Caller's ref, if provided\n  var _useState = useState(),\n    dropPropsTarget = _useState[0],\n    setDropPropsTarget = _useState[1];\n  useEffect(function () {\n    var nextDropPropsTarget;\n    // If caller provided a ref, set to 'pending' until ref.current is defined\n    if (dropProps && 'target' in dropProps) {\n      nextDropPropsTarget = dropProps.target || 'pending';\n      setDropPropsTarget(nextDropPropsTarget);\n    }\n  }, [dropProps]);\n  var _useState2 = useState(focusProp),\n    focus = _useState2[0],\n    setFocus = _useState2[1];\n  var _useState3 = useState(),\n    activeMaskIndex = _useState3[0],\n    setActiveMaskIndex = _useState3[1];\n  var _useState4 = useState(),\n    activeOptionIndex = _useState4[0],\n    setActiveOptionIndex = _useState4[1];\n  var _useState5 = useState(),\n    showDrop = _useState5[0],\n    setShowDrop = _useState5[1];\n  useEffect(function () {\n    if (focus) {\n      var timer = setTimeout(function () {\n        // determine which mask element the caret is at\n        var caretIndex = inputRef.current.selectionStart;\n        var maskIndex;\n        valueParts.some(function (part, index) {\n          if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n            maskIndex = index;\n            return true;\n          }\n          return false;\n        });\n        if (maskIndex === undefined && valueParts.length < mask.length) {\n          maskIndex = valueParts.length; // first unused one\n        }\n        if (maskIndex && mask[maskIndex].fixed) {\n          maskIndex -= 1; // fixed mask parts are never \"active\"\n        }\n        if (maskIndex !== activeMaskIndex) {\n          setActiveMaskIndex(maskIndex);\n          setActiveOptionIndex(-1);\n          setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\n        }\n      }, 10); // 10ms empirically chosen\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n    return undefined;\n  }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\n  var setInputValue = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210 &&\n    // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, [inputRef]);\n\n  // This could be due to a paste or as the user is typing.\n  var onChangeInput = useCallback(function (event) {\n    var eventValue = event.target.value;\n    // Align with the mask.\n    var nextValueParts = parseValue(mask, eventValue);\n    var nextValue = nextValueParts.map(function (part) {\n      return part.part;\n    }).join('');\n    if (nextValue !== eventValue) {\n      // The mask adjusted the next value. If something was added,\n      // the value must be valid. Change the actual input value\n      // to correspond.\n      // This will re-trigger this callback with the next value.\n      if (nextValue.length > eventValue.length) setInputValue(nextValue);\n      // If the nextValue is shorter, something must be invalid.\n      else if (value && eventValue.length < value.length) {\n        // If the user is removing characters, preserve what the\n        // user is working on.\n        setValue(eventValue);\n        if (onChange) onChange(event);\n      } else {\n        // If the user is adding invalid characters, don't allow it.\n        // Revert to the prior value.\n        setInputValue(value);\n      }\n    } else if (value !== nextValue) {\n      setValue(nextValue);\n      if (onChange) onChange(event);\n    }\n  }, [mask, onChange, setInputValue, setValue, value]);\n  var onOption = useCallback(function (option) {\n    return function () {\n      var nextValueParts = [].concat(valueParts);\n      nextValueParts[activeMaskIndex] = {\n        part: option\n      };\n      // add any fixed parts that follow\n      var index = activeMaskIndex + 1;\n      while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n        nextValueParts[index] = {\n          part: mask[index].fixed\n        };\n        index += 1;\n      }\n      var nextValue = nextValueParts.map(function (part) {\n        return part.part;\n      }).join('');\n      setInputValue(nextValue);\n      // restore focus to input\n      inputRef.current.focus();\n    };\n  }, [activeMaskIndex, inputRef, mask, setInputValue, valueParts]);\n  var onNextOption = useCallback(function (event) {\n    var item = mask[activeMaskIndex];\n    if (item && item.options) {\n      event.preventDefault();\n      var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onPreviousOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n      event.preventDefault();\n      var index = Math.max(activeOptionIndex - 1, 0);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n      event.preventDefault();\n      var option = mask[activeMaskIndex].options[activeOptionIndex];\n      onOption(option)();\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask, onOption]);\n  var onEsc = useCallback(function (event) {\n    if (showDrop) {\n      // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this input\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n      setShowDrop(false);\n    }\n  }, [showDrop]);\n  var onHideDrop = useCallback(function () {\n    return setShowDrop(false);\n  }, []);\n  var renderPlaceholder = function renderPlaceholder() {\n    return mask.map(function (item) {\n      return item.placeholder || item.fixed;\n    }).join('');\n  };\n  var maskedInputIcon = useSizedIcon(icon, rest.size, theme);\n  return /*#__PURE__*/React.createElement(StyledMaskedInputContainer, {\n    plain: plain\n  }, maskedInputIcon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, maskedInputIcon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc,\n    onTab: showDrop ? function () {\n      return setShowDrop(false);\n    } : undefined,\n    onLeft: undefined,\n    onRight: undefined,\n    onUp: onPreviousOption,\n    onDown: showDrop ? onNextOption : function () {\n      return setShowDrop(true);\n    },\n    onEnter: onSelectOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledMaskedInput, _extends({\n    ref: inputRef,\n    \"aria-label\": a11yTitle,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    focusIndicator: focusIndicator,\n    plain: plain,\n    placeholder: placeholder || renderPlaceholder(),\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    textAlign: textAlign\n  }, rest, {\n    value: value,\n    theme: theme,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      setShowDrop(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      // This will be called when the user clicks on a suggestion,\n      // check for that and don't remove the drop in that case.\n      // Drop will already have removed itself if the user has focused\n      // outside of the Drop.\n      if (!dropRef.current) setShowDrop(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: onChangeInput\n  }))), showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options &&\n  // If caller has specified dropProps.target, ensure target is defined\n  dropPropsTarget !== 'pending' && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? \"masked-input-drop__\" + id : undefined,\n    align: dropAlign,\n    responsive: false,\n    target: inputRef.current,\n    onClickOutside: onHideDrop,\n    onEsc: onHideDrop\n  }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n    ref: dropRef,\n    overflow: \"auto\",\n    dropHeight: dropHeight\n  }, mask[activeMaskIndex].options.map(function (option, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      pad: {\n        horizontal: 'small',\n        vertical: 'xsmall'\n      }\n    }, option) : undefined;\n    // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(Box, {\n      key: option,\n      flex: false\n    }, /*#__PURE__*/React.createElement(Button, {\n      tabIndex: \"-1\",\n      onClick: onOption(option),\n      onMouseOver: function onMouseOver() {\n        return setActiveOptionIndex(index);\n      },\n      onFocus: function onFocus() {},\n      active: index === activeOptionIndex,\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? option : undefined\n    }, child));\n  }))));\n});\nMaskedInput.displayName = 'MaskedInput';\nMaskedInput.propTypes = MaskedInputPropTypes;\nexport { MaskedInput };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","forwardRef","useCallback","useContext","useEffect","useMemo","useRef","useState","styled","Box","Button","Drop","FormContext","Keyboard","sizeStyle","useForwardedRef","useSizedIcon","StyledMaskedInput","StyledMaskedInputContainer","StyledIcon","MaskedInputPropTypes","useThemeValue","withTheme","parseValue","mask","value","valueParts","valueIndex","maskIndex","undefined","item","found","fixed","matching","part","slice","push","beginIndex","endIndex","options","restrictToOptions","reverse","some","option","regexp","minLength","Array","isArray","maxLength","_length","_part","test","_length2","_part2","defaultMask","ContainerBox","attrs","withConfig","displayName","componentId","props","dropHeight","theme","dropAlign","top","left","MaskedInput","_ref","ref","a11yTitle","dropProps","focusProp","focus","_ref$focusIndicator","focusIndicator","icon","id","_ref$mask","name","_onBlur","onBlur","onChange","_onFocus","onFocus","onKeyDown","placeholder","plain","textAlign","valueProp","rest","formContext","_formContext$useFormI","useFormInput","initialValue","setValue","inputRef","dropRef","_useState","dropPropsTarget","setDropPropsTarget","nextDropPropsTarget","target","_useState2","setFocus","_useState3","activeMaskIndex","setActiveMaskIndex","_useState4","activeOptionIndex","setActiveOptionIndex","_useState5","showDrop","setShowDrop","timer","setTimeout","caretIndex","current","selectionStart","index","clearTimeout","setInputValue","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","event","Event","bubbles","dispatchEvent","onChangeInput","eventValue","nextValueParts","map","join","onOption","concat","onNextOption","preventDefault","Math","min","onPreviousOption","max","onSelectOption","onEsc","stopPropagation","nativeEvent","stopImmediatePropagation","onHideDrop","renderPlaceholder","maskedInputIcon","size","createElement","onTab","onLeft","onRight","onUp","onDown","onEnter","autoComplete","align","responsive","onClickOutside","overflow","child","button","pad","horizontal","vertical","key","flex","tabIndex","onClick","onMouseOver","active","kind","hoverIndicator","label","propTypes"],"sources":["/home/uranus/portfolio/node_modules/grommet/es6/components/MaskedInput/MaskedInput.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"dropHeight\", \"dropProps\", \"focus\", \"focusIndicator\", \"icon\", \"id\", \"mask\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"placeholder\", \"plain\", \"reverse\", \"textAlign\", \"value\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { sizeStyle, useForwardedRef, useSizedIcon } from '../../utils';\nimport { StyledMaskedInput, StyledMaskedInputContainer, StyledIcon } from './StyledMaskedInput';\nimport { MaskedInputPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nimport { withTheme } from '../../default-props';\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n  var valueIndex = 0;\n  var maskIndex = 0;\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n    if (item.fixed) {\n      var length = item.fixed.length;\n\n      // grab however much of value (starting at valueIndex) matches\n      // item.fixed. If none matches it and there is more in value\n      // add in the fixed item.\n      var matching = 0;\n      while (matching < length && value[valueIndex + matching] === item.fixed[matching]) {\n        matching += 1;\n      }\n      if (matching > 0) {\n        var part = value.slice(valueIndex, valueIndex + matching);\n        if (valueIndex + matching < value.length) {\n          // matched part of the fixed portion but there's more stuff\n          // after it. Go ahead and fill in the entire fixed chunk\n          part = item.fixed;\n        }\n        valueParts.push({\n          part: part,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + matching - 1\n        });\n        valueIndex += matching;\n      } else {\n        valueParts.push({\n          part: item.fixed,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + length - 1\n        });\n      }\n      maskIndex += 1;\n      found = true;\n    } else if (item.options && item.restrictToOptions !== false) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse()\n      // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n        return false;\n      });\n    }\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n          _length -= 1;\n        }\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n  return valueParts;\n};\nvar defaultMask = [{\n  regexp: /[^]*/\n}];\nvar ContainerBox = styled(Box).attrs(withTheme).withConfig({\n  displayName: \"MaskedInput__ContainerBox\",\n  componentId: \"sc-af8hzu-0\"\n})([\"\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar dropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar MaskedInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    dropHeight = _ref.dropHeight,\n    dropProps = _ref.dropProps,\n    focusProp = _ref.focus,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    icon = _ref.icon,\n    id = _ref.id,\n    _ref$mask = _ref.mask,\n    mask = _ref$mask === void 0 ? defaultMask : _ref$mask,\n    name = _ref.name,\n    _onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    onKeyDown = _ref.onKeyDown,\n    placeholder = _ref.placeholder,\n    plain = _ref.plain,\n    reverse = _ref.reverse,\n    textAlign = _ref.textAlign,\n    valueProp = _ref.value,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useThemeValue();\n  var formContext = useContext(FormContext);\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: ''\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n  var valueParts = useMemo(function () {\n    return parseValue(mask, value);\n  }, [mask, value]);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n\n  // Caller's ref, if provided\n  var _useState = useState(),\n    dropPropsTarget = _useState[0],\n    setDropPropsTarget = _useState[1];\n  useEffect(function () {\n    var nextDropPropsTarget;\n    // If caller provided a ref, set to 'pending' until ref.current is defined\n    if (dropProps && 'target' in dropProps) {\n      nextDropPropsTarget = dropProps.target || 'pending';\n      setDropPropsTarget(nextDropPropsTarget);\n    }\n  }, [dropProps]);\n  var _useState2 = useState(focusProp),\n    focus = _useState2[0],\n    setFocus = _useState2[1];\n  var _useState3 = useState(),\n    activeMaskIndex = _useState3[0],\n    setActiveMaskIndex = _useState3[1];\n  var _useState4 = useState(),\n    activeOptionIndex = _useState4[0],\n    setActiveOptionIndex = _useState4[1];\n  var _useState5 = useState(),\n    showDrop = _useState5[0],\n    setShowDrop = _useState5[1];\n  useEffect(function () {\n    if (focus) {\n      var timer = setTimeout(function () {\n        // determine which mask element the caret is at\n        var caretIndex = inputRef.current.selectionStart;\n        var maskIndex;\n        valueParts.some(function (part, index) {\n          if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n            maskIndex = index;\n            return true;\n          }\n          return false;\n        });\n        if (maskIndex === undefined && valueParts.length < mask.length) {\n          maskIndex = valueParts.length; // first unused one\n        }\n        if (maskIndex && mask[maskIndex].fixed) {\n          maskIndex -= 1; // fixed mask parts are never \"active\"\n        }\n        if (maskIndex !== activeMaskIndex) {\n          setActiveMaskIndex(maskIndex);\n          setActiveOptionIndex(-1);\n          setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\n        }\n      }, 10); // 10ms empirically chosen\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n    return undefined;\n  }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\n  var setInputValue = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210 &&\n    // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, [inputRef]);\n\n  // This could be due to a paste or as the user is typing.\n  var onChangeInput = useCallback(function (event) {\n    var eventValue = event.target.value;\n    // Align with the mask.\n    var nextValueParts = parseValue(mask, eventValue);\n    var nextValue = nextValueParts.map(function (part) {\n      return part.part;\n    }).join('');\n    if (nextValue !== eventValue) {\n      // The mask adjusted the next value. If something was added,\n      // the value must be valid. Change the actual input value\n      // to correspond.\n      // This will re-trigger this callback with the next value.\n      if (nextValue.length > eventValue.length) setInputValue(nextValue);\n      // If the nextValue is shorter, something must be invalid.\n      else if (value && eventValue.length < value.length) {\n        // If the user is removing characters, preserve what the\n        // user is working on.\n        setValue(eventValue);\n        if (onChange) onChange(event);\n      } else {\n        // If the user is adding invalid characters, don't allow it.\n        // Revert to the prior value.\n        setInputValue(value);\n      }\n    } else if (value !== nextValue) {\n      setValue(nextValue);\n      if (onChange) onChange(event);\n    }\n  }, [mask, onChange, setInputValue, setValue, value]);\n  var onOption = useCallback(function (option) {\n    return function () {\n      var nextValueParts = [].concat(valueParts);\n      nextValueParts[activeMaskIndex] = {\n        part: option\n      };\n      // add any fixed parts that follow\n      var index = activeMaskIndex + 1;\n      while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n        nextValueParts[index] = {\n          part: mask[index].fixed\n        };\n        index += 1;\n      }\n      var nextValue = nextValueParts.map(function (part) {\n        return part.part;\n      }).join('');\n      setInputValue(nextValue);\n      // restore focus to input\n      inputRef.current.focus();\n    };\n  }, [activeMaskIndex, inputRef, mask, setInputValue, valueParts]);\n  var onNextOption = useCallback(function (event) {\n    var item = mask[activeMaskIndex];\n    if (item && item.options) {\n      event.preventDefault();\n      var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onPreviousOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n      event.preventDefault();\n      var index = Math.max(activeOptionIndex - 1, 0);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n      event.preventDefault();\n      var option = mask[activeMaskIndex].options[activeOptionIndex];\n      onOption(option)();\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask, onOption]);\n  var onEsc = useCallback(function (event) {\n    if (showDrop) {\n      // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this input\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n      setShowDrop(false);\n    }\n  }, [showDrop]);\n  var onHideDrop = useCallback(function () {\n    return setShowDrop(false);\n  }, []);\n  var renderPlaceholder = function renderPlaceholder() {\n    return mask.map(function (item) {\n      return item.placeholder || item.fixed;\n    }).join('');\n  };\n  var maskedInputIcon = useSizedIcon(icon, rest.size, theme);\n  return /*#__PURE__*/React.createElement(StyledMaskedInputContainer, {\n    plain: plain\n  }, maskedInputIcon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, maskedInputIcon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc,\n    onTab: showDrop ? function () {\n      return setShowDrop(false);\n    } : undefined,\n    onLeft: undefined,\n    onRight: undefined,\n    onUp: onPreviousOption,\n    onDown: showDrop ? onNextOption : function () {\n      return setShowDrop(true);\n    },\n    onEnter: onSelectOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledMaskedInput, _extends({\n    ref: inputRef,\n    \"aria-label\": a11yTitle,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    focusIndicator: focusIndicator,\n    plain: plain,\n    placeholder: placeholder || renderPlaceholder(),\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    textAlign: textAlign\n  }, rest, {\n    value: value,\n    theme: theme,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      setShowDrop(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      // This will be called when the user clicks on a suggestion,\n      // check for that and don't remove the drop in that case.\n      // Drop will already have removed itself if the user has focused\n      // outside of the Drop.\n      if (!dropRef.current) setShowDrop(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: onChangeInput\n  }))), showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options &&\n  // If caller has specified dropProps.target, ensure target is defined\n  dropPropsTarget !== 'pending' && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? \"masked-input-drop__\" + id : undefined,\n    align: dropAlign,\n    responsive: false,\n    target: inputRef.current,\n    onClickOutside: onHideDrop,\n    onEsc: onHideDrop\n  }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n    ref: dropRef,\n    overflow: \"auto\",\n    dropHeight: dropHeight\n  }, mask[activeMaskIndex].options.map(function (option, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      pad: {\n        horizontal: 'small',\n        vertical: 'xsmall'\n      }\n    }, option) : undefined;\n    // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(Box, {\n      key: option,\n      flex: false\n    }, /*#__PURE__*/React.createElement(Button, {\n      tabIndex: \"-1\",\n      onClick: onOption(option),\n      onMouseOver: function onMouseOver() {\n        return setActiveOptionIndex(index);\n      },\n      onFocus: function onFocus() {},\n      active: index === activeOptionIndex,\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? option : undefined\n    }, child));\n  }))));\n});\nMaskedInput.displayName = 'MaskedInput';\nMaskedInput.propTypes = MaskedInputPropTypes;\nexport { MaskedInput };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}