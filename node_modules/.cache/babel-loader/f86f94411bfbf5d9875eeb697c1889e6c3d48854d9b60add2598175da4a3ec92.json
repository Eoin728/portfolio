{"ast":null,"code":"import React, { useCallback, useContext } from 'react';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Text } from '../Text';\nimport { applyKey, getOptionValue, useDisabled, arrayIncludes } from '../Select/utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nvar SelectionSummary = function SelectionSummary(_ref) {\n  var allOptions = _ref.allOptions,\n    clearRef = _ref.clearRef,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    isSelected = _ref.isSelected,\n    labelKey = _ref.labelKey,\n    limit = _ref.limit,\n    messages = _ref.messages,\n    onChange = _ref.onChange,\n    onMore = _ref.onMore,\n    options = _ref.options,\n    search = _ref.search,\n    setActiveIndex = _ref.setActiveIndex,\n    showSelectedInline = _ref.showSelectedInline,\n    value = _ref.value,\n    valueKey = _ref.valueKey;\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var isDisabled = useDisabled(disabled, disabledKey, options, valueKey || labelKey);\n  var selectedValuesDisabled = useCallback(function () {\n    var disabledSelected = 0;\n    if (value) {\n      for (var i = 0; i < allOptions.length; i += 1) {\n        if (arrayIncludes(value, getOptionValue(i, options, valueKey || labelKey), valueKey || labelKey) && isDisabled(i)) disabledSelected += 1;\n      }\n      if (value.length === disabledSelected) return true;\n    }\n    return false;\n  }, [value, allOptions, options, valueKey, labelKey, isDisabled]);\n  var selectedInSearch = useCallback(function () {\n    return options == null ? void 0 : options.filter(function (option) {\n      return arrayIncludes(value, option, valueKey || labelKey);\n    });\n  }, [options, value, valueKey, labelKey]);\n  var showSelectAll = !!((value == null ? void 0 : value.length) === 0 || selectedValuesDisabled() || !value || selectedInSearch().length === 0);\n  var messageId = (value == null ? void 0 : value.length) === 0 || onMore || !value || search !== '' && search !== undefined ? 'selectMultiple.selected' : 'selectMultiple.selectedOfTotal';\n  var summaryText = format({\n    id: messageId,\n    messages: messages,\n    values: {\n      selected: (value == null ? void 0 : value.length) || 0,\n      total: options.length\n    }\n  });\n  var summaryButtonClick = function summaryButtonClick(event) {\n    if (onChange) {\n      var nextSelected = options.filter(function (i, index) {\n        return showSelectAll ? !isDisabled(index) || isSelected(index) : isDisabled(index) && isSelected(index);\n      });\n      if (search !== '' && search !== undefined && value) {\n        if (showSelectAll) {\n          nextSelected = nextSelected.concat(value);\n        } else {\n          value.forEach(function (item) {\n            if (!arrayIncludes(options, item, valueKey || labelKey)) {\n              nextSelected.push(item);\n            }\n          });\n        }\n      }\n      var nextValue = nextSelected.map(function (i) {\n        return valueKey && valueKey.reduce ? applyKey(i, valueKey) : i;\n      });\n      onChange(event, {\n        option: options,\n        value: nextValue,\n        selected: nextSelected\n      });\n    }\n    if (limit && !showSelectAll) setActiveIndex(0);\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    pad: showSelectedInline ? {\n      left: 'xsmall',\n      vertical: 'xsmall'\n    } : 'xsmall',\n    direction: \"row\",\n    justify: \"between\",\n    gap: \"small\",\n    fill: \"horizontal\",\n    flex: showSelectedInline,\n    align: \"center\",\n    height: {\n      min: 'xxsmall'\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: \"small\"\n  }, summaryText), (options.length && (!limit || !(!value || (value == null ? void 0 : value.length) === 0 && selectedValuesDisabled()))) > 0 && (!onMore || onMore && (value == null ? void 0 : value.length) !== 0) && /*#__PURE__*/React.createElement(Button, {\n    a11yTitle: showSelectAll ? format({\n      id: 'selectMultiple.selectAllA11y',\n      messages: messages,\n      values: {\n        total: options.length\n      }\n    }) : format({\n      id: 'selectMultiple.clearAllA11y',\n      messages: messages,\n      values: {\n        selected: (value == null ? void 0 : value.length) || 0\n      }\n    }),\n    label: format({\n      id: showSelectAll ? 'selectMultiple.selectAll' : 'selectMultiple.clearAll',\n      messages: messages\n    }),\n    onClick: function onClick(event) {\n      return summaryButtonClick(event);\n    },\n    onFocus: function onFocus() {\n      return setActiveIndex(-1);\n    },\n    ref: clearRef\n  }));\n};\nexport { SelectionSummary };","map":{"version":3,"names":["React","useCallback","useContext","Box","Button","Text","applyKey","getOptionValue","useDisabled","arrayIncludes","MessageContext","SelectionSummary","_ref","allOptions","clearRef","disabled","disabledKey","isSelected","labelKey","limit","messages","onChange","onMore","options","search","setActiveIndex","showSelectedInline","value","valueKey","_useContext","format","isDisabled","selectedValuesDisabled","disabledSelected","i","length","selectedInSearch","filter","option","showSelectAll","messageId","undefined","summaryText","id","values","selected","total","summaryButtonClick","event","nextSelected","index","concat","forEach","item","push","nextValue","map","reduce","createElement","pad","left","vertical","direction","justify","gap","fill","flex","align","height","min","size","a11yTitle","label","onClick","onFocus","ref"],"sources":["/home/uranus/portfolio/node_modules/grommet/es6/components/SelectMultiple/SelectionSummary.js"],"sourcesContent":["import React, { useCallback, useContext } from 'react';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Text } from '../Text';\nimport { applyKey, getOptionValue, useDisabled, arrayIncludes } from '../Select/utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nvar SelectionSummary = function SelectionSummary(_ref) {\n  var allOptions = _ref.allOptions,\n    clearRef = _ref.clearRef,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    isSelected = _ref.isSelected,\n    labelKey = _ref.labelKey,\n    limit = _ref.limit,\n    messages = _ref.messages,\n    onChange = _ref.onChange,\n    onMore = _ref.onMore,\n    options = _ref.options,\n    search = _ref.search,\n    setActiveIndex = _ref.setActiveIndex,\n    showSelectedInline = _ref.showSelectedInline,\n    value = _ref.value,\n    valueKey = _ref.valueKey;\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var isDisabled = useDisabled(disabled, disabledKey, options, valueKey || labelKey);\n  var selectedValuesDisabled = useCallback(function () {\n    var disabledSelected = 0;\n    if (value) {\n      for (var i = 0; i < allOptions.length; i += 1) {\n        if (arrayIncludes(value, getOptionValue(i, options, valueKey || labelKey), valueKey || labelKey) && isDisabled(i)) disabledSelected += 1;\n      }\n      if (value.length === disabledSelected) return true;\n    }\n    return false;\n  }, [value, allOptions, options, valueKey, labelKey, isDisabled]);\n  var selectedInSearch = useCallback(function () {\n    return options == null ? void 0 : options.filter(function (option) {\n      return arrayIncludes(value, option, valueKey || labelKey);\n    });\n  }, [options, value, valueKey, labelKey]);\n  var showSelectAll = !!((value == null ? void 0 : value.length) === 0 || selectedValuesDisabled() || !value || selectedInSearch().length === 0);\n  var messageId = (value == null ? void 0 : value.length) === 0 || onMore || !value || search !== '' && search !== undefined ? 'selectMultiple.selected' : 'selectMultiple.selectedOfTotal';\n  var summaryText = format({\n    id: messageId,\n    messages: messages,\n    values: {\n      selected: (value == null ? void 0 : value.length) || 0,\n      total: options.length\n    }\n  });\n  var summaryButtonClick = function summaryButtonClick(event) {\n    if (onChange) {\n      var nextSelected = options.filter(function (i, index) {\n        return showSelectAll ? !isDisabled(index) || isSelected(index) : isDisabled(index) && isSelected(index);\n      });\n      if (search !== '' && search !== undefined && value) {\n        if (showSelectAll) {\n          nextSelected = nextSelected.concat(value);\n        } else {\n          value.forEach(function (item) {\n            if (!arrayIncludes(options, item, valueKey || labelKey)) {\n              nextSelected.push(item);\n            }\n          });\n        }\n      }\n      var nextValue = nextSelected.map(function (i) {\n        return valueKey && valueKey.reduce ? applyKey(i, valueKey) : i;\n      });\n      onChange(event, {\n        option: options,\n        value: nextValue,\n        selected: nextSelected\n      });\n    }\n    if (limit && !showSelectAll) setActiveIndex(0);\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    pad: showSelectedInline ? {\n      left: 'xsmall',\n      vertical: 'xsmall'\n    } : 'xsmall',\n    direction: \"row\",\n    justify: \"between\",\n    gap: \"small\",\n    fill: \"horizontal\",\n    flex: showSelectedInline,\n    align: \"center\",\n    height: {\n      min: 'xxsmall'\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: \"small\"\n  }, summaryText), (options.length && (!limit || !(!value || (value == null ? void 0 : value.length) === 0 && selectedValuesDisabled()))) > 0 && (!onMore || onMore && (value == null ? void 0 : value.length) !== 0) && /*#__PURE__*/React.createElement(Button, {\n    a11yTitle: showSelectAll ? format({\n      id: 'selectMultiple.selectAllA11y',\n      messages: messages,\n      values: {\n        total: options.length\n      }\n    }) : format({\n      id: 'selectMultiple.clearAllA11y',\n      messages: messages,\n      values: {\n        selected: (value == null ? void 0 : value.length) || 0\n      }\n    }),\n    label: format({\n      id: showSelectAll ? 'selectMultiple.selectAll' : 'selectMultiple.clearAll',\n      messages: messages\n    }),\n    onClick: function onClick(event) {\n      return summaryButtonClick(event);\n    },\n    onFocus: function onFocus() {\n      return setActiveIndex(-1);\n    },\n    ref: clearRef\n  }));\n};\nexport { SelectionSummary };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}