{"ast":null,"code":"var _excluded = [\"buttonProps\", \"calendarProps\", \"defaultValue\", \"disabled\", \"dropProps\", \"format\", \"id\", \"icon\", \"inline\", \"inputProps\", \"name\", \"onChange\", \"onFocus\", \"plain\", \"readOnly\", \"readOnlyCopy\", \"reverse\", \"value\", \"messages\"],\n  _excluded2 = [\"icon\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.indexOf(n) >= 0) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { useRef, forwardRef, useContext, useEffect, useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Calendar as CalendarIcon } from 'grommet-icons/icons/Calendar';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Calendar } from '../Calendar';\nimport { Drop } from '../Drop';\nimport { DropButton } from '../DropButton';\nimport { FormContext } from '../Form';\nimport { Keyboard } from '../Keyboard';\nimport { MaskedInput } from '../MaskedInput';\nimport { useForwardedRef, setHoursWithOffset } from '../../utils';\nimport { readOnlyStyle } from '../../utils/readOnly';\nimport { formatToSchema, schemaToMask, valuesAreEqual, valueToText, textToValue, validateBounds } from './utils';\nimport { DateInputPropTypes } from './propTypes';\nimport { getOutputFormat } from '../Calendar/Calendar';\nimport { CopyButton } from '../TextInput/CopyButton';\nimport { useThemeValue } from '../../utils/useThemeValue';\nimport { withTheme } from '../../default-props';\nvar StyledDateInputContainer = styled(Box).attrs(withTheme).withConfig({\n  displayName: \"DateInput__StyledDateInputContainer\",\n  componentId: \"sc-1jfta23-0\"\n})([\"\", \"};\"], function (props) {\n  return props.readOnlyProp && readOnlyStyle(props.theme);\n});\nvar getReference = function getReference(value) {\n  var adjustedDate;\n  var res;\n  if (typeof value === 'string') res = value;else if (Array.isArray(value) && Array.isArray(value[0])) res = value[0].find(function (date) {\n    return date;\n  });else if (Array.isArray(value) && value.length) {\n    res = value[0];\n  }\n  if (res) {\n    adjustedDate = setHoursWithOffset(res);\n  }\n  return adjustedDate;\n};\nvar DateInput = /*#__PURE__*/forwardRef(function (_ref, refArg) {\n  var _theme$icon, _theme$dateInput$icon;\n  var buttonProps = _ref.buttonProps,\n    calendarProps = _ref.calendarProps,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    dropProps = _ref.dropProps,\n    format = _ref.format,\n    id = _ref.id,\n    icon = _ref.icon,\n    _ref$inline = _ref.inline,\n    inline = _ref$inline === void 0 ? false : _ref$inline,\n    inputProps = _ref.inputProps,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    plain = _ref.plain,\n    readOnlyProp = _ref.readOnly,\n    readOnlyCopy = _ref.readOnlyCopy,\n    _ref$reverse = _ref.reverse,\n    reverseProp = _ref$reverse === void 0 ? false : _ref$reverse,\n    valueArg = _ref.value,\n    messages = _ref.messages,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useThemeValue();\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    formatMessage = _useContext.format;\n  var iconSize = ((_theme$icon = theme.icon) == null ? void 0 : _theme$icon.matchSize) && rest.size || ((_theme$dateInput$icon = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon.size) || 'medium';\n  var _useContext2 = useContext(FormContext),\n    useFormInput = _useContext2.useFormInput;\n  var ref = useForwardedRef(refArg);\n  var containerRef = useRef();\n  var readOnly = readOnlyProp || readOnlyCopy;\n  var _useFormInput = useFormInput({\n      name: name,\n      value: valueArg,\n      initialValue: defaultValue\n    }),\n    value = _useFormInput[0],\n    setValue = _useFormInput[1];\n  var _useState = useState(getOutputFormat(value)),\n    outputFormat = _useState[0],\n    setOutputFormat = _useState[1];\n  useEffect(function () {\n    setOutputFormat(function (previousFormat) {\n      var nextFormat = getOutputFormat(value);\n      // when user types, date could become something like 07//2020\n      // and value becomes undefined. don't lose the format from the\n      // previous valid date\n      return previousFormat !== nextFormat ? previousFormat : nextFormat;\n    });\n  }, [value]);\n\n  // keep track of timestamp from original date(s)\n  var _useState2 = useState(getReference(value)),\n    reference = _useState2[0],\n    setReference = _useState2[1];\n\n  // do we expect multiple dates?\n  var range = Array.isArray(value) || format && format.includes('-');\n\n  // parse format and build a formal schema we can use elsewhere\n  var schema = useMemo(function () {\n    return formatToSchema(format);\n  }, [format]);\n\n  // mask is only used when a format is provided\n  var mask = useMemo(function () {\n    return schemaToMask(schema);\n  }, [schema]);\n\n  // textValue is only used when a format is provided\n  var _useState3 = useState(schema ? valueToText(value, schema) : undefined),\n    textValue = _useState3[0],\n    setTextValue = _useState3[1];\n  var readOnlyCopyValidation = formatMessage({\n    id: 'input.readOnlyCopy.validation',\n    messages: messages\n  });\n  var readOnlyCopyPrompt = formatMessage({\n    id: 'input.readOnlyCopy.prompt',\n    messages: messages\n  });\n  var _useState4 = useState(readOnlyCopyPrompt),\n    tip = _useState4[0],\n    setTip = _useState4[1];\n\n  // Setting the icon through `inputProps` is deprecated.\n  // The `icon` prop should be used instead.\n  var _ref2 = inputProps || {},\n    MaskedInputIcon = _ref2.icon,\n    restOfInputProps = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n  if (MaskedInputIcon) {\n    console.warn(\"Customizing the DateInput icon through inputProps is deprecated.\\nUse the icon prop instead.\");\n  }\n  var reverse = reverseProp || restOfInputProps.reverse;\n  var calendarDropdownAlign = {\n    top: 'bottom',\n    left: 'left'\n  };\n\n  // We need to distinguish between the caller changing a Form value\n  // and the user typing a date that he isn't finished with yet.\n  // To handle this, we see if we have a value and the text value\n  // associated with it doesn't align to it, then we update the text value.\n  // We compare using textToValue to avoid \"06/01/2021\" not\n  // matching \"06/1/2021\".\n  useEffect(function () {\n    if (schema && value !== undefined) {\n      var nextTextValue = valueToText(value, schema);\n      if (!valuesAreEqual(textToValue(textValue, schema, range, reference), textToValue(nextTextValue, schema, range, reference)) || textValue === '' && nextTextValue !== '') {\n        setTextValue(nextTextValue);\n      }\n    }\n  }, [range, schema, textValue, reference, value]);\n\n  // textValue of MaskedInput is controlled.\n  // for uncontrolled forms, ensure the reset event\n  // resets the textValue\n  useEffect(function () {\n    var _ref$current;\n    var form = ref == null || (_ref$current = ref.current) == null ? void 0 : _ref$current.form;\n    var handleFormReset = function handleFormReset(e) {\n      if (schema && ref.current && e.target.contains(ref.current)) {\n        setTextValue('');\n      }\n    };\n    // place the listener on the form directly. if listener is on window,\n    // the event could get blocked if caller has e.stopPropagation(), etc. in\n    // their form onReset\n    form == null || form.addEventListener('reset', handleFormReset);\n    return function () {\n      return form == null ? void 0 : form.removeEventListener('reset', handleFormReset);\n    };\n  }, [schema, ref]);\n\n  // when format and not inline, whether to show the Calendar in a Drop\n  var _useState5 = useState(),\n    open = _useState5[0],\n    setOpen = _useState5[1];\n  var openCalendar = useCallback(function () {\n    setOpen(true);\n    announce(formatMessage({\n      id: 'dateInput.enterCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var closeCalendar = useCallback(function () {\n    setOpen(false);\n    announce(formatMessage({\n      id: 'dateInput.exitCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var dates = useMemo(function () {\n    return range && value != null && value.length ? [value] : undefined;\n  }, [range, value]);\n  var calendar = /*#__PURE__*/React.createElement(Calendar, _extends({\n    ref: inline ? ref : undefined,\n    id: inline && !format ? id : undefined,\n    range: range,\n    date: range ? undefined : value\n    // when caller initializes with empty array, dates should be undefined\n    // allowing the user to select both begin and end of the range\n    ,\n\n    dates: dates\n    // places focus on days grid when Calendar opens\n    ,\n\n    initialFocus: open ? 'days' : undefined,\n    onSelect: disabled ? undefined : function (nextValue) {\n      var normalizedValue;\n      if (range && Array.isArray(nextValue)) {\n        normalizedValue = nextValue[0];\n      } // clicking an edge date removes it\n      else if (range && nextValue) normalizedValue = [nextValue, nextValue];else normalizedValue = nextValue;\n      if (schema) setTextValue(valueToText(normalizedValue, schema));\n      setValue(normalizedValue);\n      setReference(getReference(nextValue));\n      if (_onChange) _onChange({\n        value: normalizedValue\n      });\n      if (open && !range) {\n        closeCalendar();\n        setTimeout(function () {\n          var _ref$current2;\n          return (_ref$current2 = ref.current) == null ? void 0 : _ref$current2.focus();\n        }, 1);\n      }\n    }\n  }, calendarProps));\n  var formContextValue = useMemo(function () {\n    return {\n      useFormInput: function useFormInput(_ref3) {\n        var valueProp = _ref3.value;\n        return [valueProp, function () {}];\n      }\n    };\n  }, []);\n  if (!format) {\n    // When no format is specified, we don't give the user a way to type\n    if (inline) return calendar;\n    return /*#__PURE__*/React.createElement(DropButton, _extends({\n      ref: ref,\n      id: id,\n      dropProps: _extends({\n        align: calendarDropdownAlign\n      }, dropProps),\n      dropContent: calendar,\n      icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n        size: iconSize\n      })\n    }, buttonProps));\n  }\n  var onClickCopy = function onClickCopy() {\n    global.navigator.clipboard.writeText(textValue);\n    announce(readOnlyCopyValidation, 'assertive');\n    setTip(readOnlyCopyValidation);\n  };\n  var onBlurCopy = function onBlurCopy() {\n    if (tip === readOnlyCopyValidation) setTip(readOnlyCopyPrompt);\n  };\n  var DateInputButton = readOnlyCopy ? /*#__PURE__*/React.createElement(CopyButton, {\n    onBlurCopy: onBlurCopy,\n    onClickCopy: onClickCopy,\n    readOnlyCopyPrompt: readOnlyCopyPrompt,\n    tip: tip,\n    value: value\n  }) : /*#__PURE__*/React.createElement(Button, {\n    onClick: open ? closeCalendar : openCalendar,\n    plain: true,\n    icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n      size: iconSize\n    }),\n    margin: reverse ? {\n      left: 'small'\n    } : {\n      right: 'small'\n    }\n  });\n  var input = /*#__PURE__*/React.createElement(FormContext.Provider, {\n    key: \"input\"\n    // don't let MaskedInput drive the Form\n    ,\n\n    value: formContextValue\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: open ? function () {\n      return closeCalendar();\n    } : undefined,\n    onSpace: function onSpace(event) {\n      if (!readOnlyCopy) {\n        event.preventDefault();\n        if (!readOnly) openCalendar();\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledDateInputContainer, {\n    ref: containerRef,\n    border: !plain,\n    round: theme.dateInput.container.round,\n    direction: \"row\"\n    // readOnly prop shouldn't get passed to the dom here\n    ,\n\n    readOnlyProp: readOnly,\n    fill: true\n  }, reverse && (!readOnly || readOnlyCopy) && DateInputButton, /*#__PURE__*/React.createElement(MaskedInput, _extends({\n    readOnly: readOnly,\n    ref: ref,\n    id: id,\n    name: name,\n    reverse: true,\n    disabled: disabled,\n    mask: mask,\n    plain: true\n  }, restOfInputProps, rest, {\n    value: textValue,\n    onChange: function onChange(event) {\n      var nextTextValue = event.target.value;\n      setTextValue(nextTextValue);\n      var nextValue = textToValue(nextTextValue, schema, range, reference, outputFormat);\n      var validatedNextValue = validateBounds(calendarProps == null ? void 0 : calendarProps.bounds, nextValue);\n      if (!validatedNextValue && nextValue) {\n        setTextValue('');\n      }\n      if (validatedNextValue !== undefined) setReference(getReference(validatedNextValue));\n      // update value even when undefined\n      setValue(validatedNextValue);\n      if (_onChange) {\n        event.persist(); // extract from React synthetic event pool\n        var adjustedEvent = event;\n        adjustedEvent.value = validatedNextValue;\n        _onChange(adjustedEvent);\n      }\n    },\n    onFocus: function onFocus(event) {\n      if (!readOnly) {\n        announce(formatMessage({\n          id: 'dateInput.openCalendar',\n          messages: messages\n        }));\n      }\n      if (_onFocus) _onFocus(event);\n    }\n  })), !reverse && (!readOnly || readOnlyCopy) && DateInputButton)));\n  if (inline) {\n    return /*#__PURE__*/React.createElement(Box, null, input, calendar);\n  }\n  if (open && !readOnly) {\n    return [input, /*#__PURE__*/React.createElement(Keyboard, {\n      key: \"drop\",\n      onEsc: function onEsc() {\n        return ref.current.focus();\n      }\n    }, /*#__PURE__*/React.createElement(Drop, _extends({\n      overflow: \"visible\",\n      id: id ? id + \"__drop\" : undefined,\n      target: containerRef.current,\n      align: _extends({}, calendarDropdownAlign, dropProps),\n      onEsc: closeCalendar,\n      onClickOutside: function onClickOutside(_ref4) {\n        var target = _ref4.target;\n        if (target !== containerRef.current && !containerRef.current.contains(target)) {\n          closeCalendar();\n        }\n      }\n    }, dropProps), calendar))];\n  }\n  return input;\n});\nDateInput.displayName = 'DateInput';\nDateInput.propTypes = DateInputPropTypes;\nexport { DateInput };","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","useRef","forwardRef","useContext","useEffect","useMemo","useState","useCallback","styled","Calendar","CalendarIcon","AnnounceContext","MessageContext","Box","Button","Drop","DropButton","FormContext","Keyboard","MaskedInput","useForwardedRef","setHoursWithOffset","readOnlyStyle","formatToSchema","schemaToMask","valuesAreEqual","valueToText","textToValue","validateBounds","DateInputPropTypes","getOutputFormat","CopyButton","useThemeValue","withTheme","StyledDateInputContainer","attrs","withConfig","displayName","componentId","props","readOnlyProp","theme","getReference","value","adjustedDate","res","Array","isArray","find","date","DateInput","_ref","refArg","_theme$icon","_theme$dateInput$icon","buttonProps","calendarProps","defaultValue","disabled","dropProps","format","id","icon","_ref$inline","inline","inputProps","name","_onChange","onChange","_onFocus","onFocus","plain","readOnly","readOnlyCopy","_ref$reverse","reverse","reverseProp","valueArg","messages","rest","announce","_useContext","formatMessage","iconSize","matchSize","size","dateInput","_useContext2","useFormInput","ref","containerRef","_useFormInput","initialValue","setValue","_useState","outputFormat","setOutputFormat","previousFormat","nextFormat","_useState2","reference","setReference","range","includes","schema","mask","_useState3","undefined","textValue","setTextValue","readOnlyCopyValidation","readOnlyCopyPrompt","_useState4","tip","setTip","_ref2","MaskedInputIcon","restOfInputProps","console","warn","calendarDropdownAlign","top","left","nextTextValue","_ref$current","form","current","handleFormReset","target","contains","addEventListener","removeEventListener","_useState5","open","setOpen","openCalendar","closeCalendar","dates","calendar","createElement","initialFocus","onSelect","nextValue","normalizedValue","setTimeout","_ref$current2","focus","formContextValue","_ref3","valueProp","align","dropContent","onClickCopy","global","navigator","clipboard","writeText","onBlurCopy","DateInputButton","onClick","margin","right","input","Provider","key","onEsc","onSpace","event","preventDefault","border","round","container","direction","fill","validatedNextValue","bounds","persist","adjustedEvent","overflow","onClickOutside","_ref4","propTypes"],"sources":["/home/uranus/portfolio/node_modules/grommet/es6/components/DateInput/DateInput.js"],"sourcesContent":["var _excluded = [\"buttonProps\", \"calendarProps\", \"defaultValue\", \"disabled\", \"dropProps\", \"format\", \"id\", \"icon\", \"inline\", \"inputProps\", \"name\", \"onChange\", \"onFocus\", \"plain\", \"readOnly\", \"readOnlyCopy\", \"reverse\", \"value\", \"messages\"],\n  _excluded2 = [\"icon\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\nimport React, { useRef, forwardRef, useContext, useEffect, useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Calendar as CalendarIcon } from 'grommet-icons/icons/Calendar';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Calendar } from '../Calendar';\nimport { Drop } from '../Drop';\nimport { DropButton } from '../DropButton';\nimport { FormContext } from '../Form';\nimport { Keyboard } from '../Keyboard';\nimport { MaskedInput } from '../MaskedInput';\nimport { useForwardedRef, setHoursWithOffset } from '../../utils';\nimport { readOnlyStyle } from '../../utils/readOnly';\nimport { formatToSchema, schemaToMask, valuesAreEqual, valueToText, textToValue, validateBounds } from './utils';\nimport { DateInputPropTypes } from './propTypes';\nimport { getOutputFormat } from '../Calendar/Calendar';\nimport { CopyButton } from '../TextInput/CopyButton';\nimport { useThemeValue } from '../../utils/useThemeValue';\nimport { withTheme } from '../../default-props';\nvar StyledDateInputContainer = styled(Box).attrs(withTheme).withConfig({\n  displayName: \"DateInput__StyledDateInputContainer\",\n  componentId: \"sc-1jfta23-0\"\n})([\"\", \"};\"], function (props) {\n  return props.readOnlyProp && readOnlyStyle(props.theme);\n});\nvar getReference = function getReference(value) {\n  var adjustedDate;\n  var res;\n  if (typeof value === 'string') res = value;else if (Array.isArray(value) && Array.isArray(value[0])) res = value[0].find(function (date) {\n    return date;\n  });else if (Array.isArray(value) && value.length) {\n    res = value[0];\n  }\n  if (res) {\n    adjustedDate = setHoursWithOffset(res);\n  }\n  return adjustedDate;\n};\nvar DateInput = /*#__PURE__*/forwardRef(function (_ref, refArg) {\n  var _theme$icon, _theme$dateInput$icon;\n  var buttonProps = _ref.buttonProps,\n    calendarProps = _ref.calendarProps,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    dropProps = _ref.dropProps,\n    format = _ref.format,\n    id = _ref.id,\n    icon = _ref.icon,\n    _ref$inline = _ref.inline,\n    inline = _ref$inline === void 0 ? false : _ref$inline,\n    inputProps = _ref.inputProps,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    plain = _ref.plain,\n    readOnlyProp = _ref.readOnly,\n    readOnlyCopy = _ref.readOnlyCopy,\n    _ref$reverse = _ref.reverse,\n    reverseProp = _ref$reverse === void 0 ? false : _ref$reverse,\n    valueArg = _ref.value,\n    messages = _ref.messages,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useThemeValue();\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    formatMessage = _useContext.format;\n  var iconSize = ((_theme$icon = theme.icon) == null ? void 0 : _theme$icon.matchSize) && rest.size || ((_theme$dateInput$icon = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon.size) || 'medium';\n  var _useContext2 = useContext(FormContext),\n    useFormInput = _useContext2.useFormInput;\n  var ref = useForwardedRef(refArg);\n  var containerRef = useRef();\n  var readOnly = readOnlyProp || readOnlyCopy;\n  var _useFormInput = useFormInput({\n      name: name,\n      value: valueArg,\n      initialValue: defaultValue\n    }),\n    value = _useFormInput[0],\n    setValue = _useFormInput[1];\n  var _useState = useState(getOutputFormat(value)),\n    outputFormat = _useState[0],\n    setOutputFormat = _useState[1];\n  useEffect(function () {\n    setOutputFormat(function (previousFormat) {\n      var nextFormat = getOutputFormat(value);\n      // when user types, date could become something like 07//2020\n      // and value becomes undefined. don't lose the format from the\n      // previous valid date\n      return previousFormat !== nextFormat ? previousFormat : nextFormat;\n    });\n  }, [value]);\n\n  // keep track of timestamp from original date(s)\n  var _useState2 = useState(getReference(value)),\n    reference = _useState2[0],\n    setReference = _useState2[1];\n\n  // do we expect multiple dates?\n  var range = Array.isArray(value) || format && format.includes('-');\n\n  // parse format and build a formal schema we can use elsewhere\n  var schema = useMemo(function () {\n    return formatToSchema(format);\n  }, [format]);\n\n  // mask is only used when a format is provided\n  var mask = useMemo(function () {\n    return schemaToMask(schema);\n  }, [schema]);\n\n  // textValue is only used when a format is provided\n  var _useState3 = useState(schema ? valueToText(value, schema) : undefined),\n    textValue = _useState3[0],\n    setTextValue = _useState3[1];\n  var readOnlyCopyValidation = formatMessage({\n    id: 'input.readOnlyCopy.validation',\n    messages: messages\n  });\n  var readOnlyCopyPrompt = formatMessage({\n    id: 'input.readOnlyCopy.prompt',\n    messages: messages\n  });\n  var _useState4 = useState(readOnlyCopyPrompt),\n    tip = _useState4[0],\n    setTip = _useState4[1];\n\n  // Setting the icon through `inputProps` is deprecated.\n  // The `icon` prop should be used instead.\n  var _ref2 = inputProps || {},\n    MaskedInputIcon = _ref2.icon,\n    restOfInputProps = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n  if (MaskedInputIcon) {\n    console.warn(\"Customizing the DateInput icon through inputProps is deprecated.\\nUse the icon prop instead.\");\n  }\n  var reverse = reverseProp || restOfInputProps.reverse;\n  var calendarDropdownAlign = {\n    top: 'bottom',\n    left: 'left'\n  };\n\n  // We need to distinguish between the caller changing a Form value\n  // and the user typing a date that he isn't finished with yet.\n  // To handle this, we see if we have a value and the text value\n  // associated with it doesn't align to it, then we update the text value.\n  // We compare using textToValue to avoid \"06/01/2021\" not\n  // matching \"06/1/2021\".\n  useEffect(function () {\n    if (schema && value !== undefined) {\n      var nextTextValue = valueToText(value, schema);\n      if (!valuesAreEqual(textToValue(textValue, schema, range, reference), textToValue(nextTextValue, schema, range, reference)) || textValue === '' && nextTextValue !== '') {\n        setTextValue(nextTextValue);\n      }\n    }\n  }, [range, schema, textValue, reference, value]);\n\n  // textValue of MaskedInput is controlled.\n  // for uncontrolled forms, ensure the reset event\n  // resets the textValue\n  useEffect(function () {\n    var _ref$current;\n    var form = ref == null || (_ref$current = ref.current) == null ? void 0 : _ref$current.form;\n    var handleFormReset = function handleFormReset(e) {\n      if (schema && ref.current && e.target.contains(ref.current)) {\n        setTextValue('');\n      }\n    };\n    // place the listener on the form directly. if listener is on window,\n    // the event could get blocked if caller has e.stopPropagation(), etc. in\n    // their form onReset\n    form == null || form.addEventListener('reset', handleFormReset);\n    return function () {\n      return form == null ? void 0 : form.removeEventListener('reset', handleFormReset);\n    };\n  }, [schema, ref]);\n\n  // when format and not inline, whether to show the Calendar in a Drop\n  var _useState5 = useState(),\n    open = _useState5[0],\n    setOpen = _useState5[1];\n  var openCalendar = useCallback(function () {\n    setOpen(true);\n    announce(formatMessage({\n      id: 'dateInput.enterCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var closeCalendar = useCallback(function () {\n    setOpen(false);\n    announce(formatMessage({\n      id: 'dateInput.exitCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var dates = useMemo(function () {\n    return range && value != null && value.length ? [value] : undefined;\n  }, [range, value]);\n  var calendar = /*#__PURE__*/React.createElement(Calendar, _extends({\n    ref: inline ? ref : undefined,\n    id: inline && !format ? id : undefined,\n    range: range,\n    date: range ? undefined : value\n    // when caller initializes with empty array, dates should be undefined\n    // allowing the user to select both begin and end of the range\n    ,\n    dates: dates\n    // places focus on days grid when Calendar opens\n    ,\n    initialFocus: open ? 'days' : undefined,\n    onSelect: disabled ? undefined : function (nextValue) {\n      var normalizedValue;\n      if (range && Array.isArray(nextValue)) {\n        normalizedValue = nextValue[0];\n      } // clicking an edge date removes it\n      else if (range && nextValue) normalizedValue = [nextValue, nextValue];else normalizedValue = nextValue;\n      if (schema) setTextValue(valueToText(normalizedValue, schema));\n      setValue(normalizedValue);\n      setReference(getReference(nextValue));\n      if (_onChange) _onChange({\n        value: normalizedValue\n      });\n      if (open && !range) {\n        closeCalendar();\n        setTimeout(function () {\n          var _ref$current2;\n          return (_ref$current2 = ref.current) == null ? void 0 : _ref$current2.focus();\n        }, 1);\n      }\n    }\n  }, calendarProps));\n  var formContextValue = useMemo(function () {\n    return {\n      useFormInput: function useFormInput(_ref3) {\n        var valueProp = _ref3.value;\n        return [valueProp, function () {}];\n      }\n    };\n  }, []);\n  if (!format) {\n    // When no format is specified, we don't give the user a way to type\n    if (inline) return calendar;\n    return /*#__PURE__*/React.createElement(DropButton, _extends({\n      ref: ref,\n      id: id,\n      dropProps: _extends({\n        align: calendarDropdownAlign\n      }, dropProps),\n      dropContent: calendar,\n      icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n        size: iconSize\n      })\n    }, buttonProps));\n  }\n  var onClickCopy = function onClickCopy() {\n    global.navigator.clipboard.writeText(textValue);\n    announce(readOnlyCopyValidation, 'assertive');\n    setTip(readOnlyCopyValidation);\n  };\n  var onBlurCopy = function onBlurCopy() {\n    if (tip === readOnlyCopyValidation) setTip(readOnlyCopyPrompt);\n  };\n  var DateInputButton = readOnlyCopy ? /*#__PURE__*/React.createElement(CopyButton, {\n    onBlurCopy: onBlurCopy,\n    onClickCopy: onClickCopy,\n    readOnlyCopyPrompt: readOnlyCopyPrompt,\n    tip: tip,\n    value: value\n  }) : /*#__PURE__*/React.createElement(Button, {\n    onClick: open ? closeCalendar : openCalendar,\n    plain: true,\n    icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n      size: iconSize\n    }),\n    margin: reverse ? {\n      left: 'small'\n    } : {\n      right: 'small'\n    }\n  });\n  var input = /*#__PURE__*/React.createElement(FormContext.Provider, {\n    key: \"input\"\n    // don't let MaskedInput drive the Form\n    ,\n    value: formContextValue\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: open ? function () {\n      return closeCalendar();\n    } : undefined,\n    onSpace: function onSpace(event) {\n      if (!readOnlyCopy) {\n        event.preventDefault();\n        if (!readOnly) openCalendar();\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledDateInputContainer, {\n    ref: containerRef,\n    border: !plain,\n    round: theme.dateInput.container.round,\n    direction: \"row\"\n    // readOnly prop shouldn't get passed to the dom here\n    ,\n    readOnlyProp: readOnly,\n    fill: true\n  }, reverse && (!readOnly || readOnlyCopy) && DateInputButton, /*#__PURE__*/React.createElement(MaskedInput, _extends({\n    readOnly: readOnly,\n    ref: ref,\n    id: id,\n    name: name,\n    reverse: true,\n    disabled: disabled,\n    mask: mask,\n    plain: true\n  }, restOfInputProps, rest, {\n    value: textValue,\n    onChange: function onChange(event) {\n      var nextTextValue = event.target.value;\n      setTextValue(nextTextValue);\n      var nextValue = textToValue(nextTextValue, schema, range, reference, outputFormat);\n      var validatedNextValue = validateBounds(calendarProps == null ? void 0 : calendarProps.bounds, nextValue);\n      if (!validatedNextValue && nextValue) {\n        setTextValue('');\n      }\n      if (validatedNextValue !== undefined) setReference(getReference(validatedNextValue));\n      // update value even when undefined\n      setValue(validatedNextValue);\n      if (_onChange) {\n        event.persist(); // extract from React synthetic event pool\n        var adjustedEvent = event;\n        adjustedEvent.value = validatedNextValue;\n        _onChange(adjustedEvent);\n      }\n    },\n    onFocus: function onFocus(event) {\n      if (!readOnly) {\n        announce(formatMessage({\n          id: 'dateInput.openCalendar',\n          messages: messages\n        }));\n      }\n      if (_onFocus) _onFocus(event);\n    }\n  })), !reverse && (!readOnly || readOnlyCopy) && DateInputButton)));\n  if (inline) {\n    return /*#__PURE__*/React.createElement(Box, null, input, calendar);\n  }\n  if (open && !readOnly) {\n    return [input, /*#__PURE__*/React.createElement(Keyboard, {\n      key: \"drop\",\n      onEsc: function onEsc() {\n        return ref.current.focus();\n      }\n    }, /*#__PURE__*/React.createElement(Drop, _extends({\n      overflow: \"visible\",\n      id: id ? id + \"__drop\" : undefined,\n      target: containerRef.current,\n      align: _extends({}, calendarDropdownAlign, dropProps),\n      onEsc: closeCalendar,\n      onClickOutside: function onClickOutside(_ref4) {\n        var target = _ref4.target;\n        if (target !== containerRef.current && !containerRef.current.contains(target)) {\n          closeCalendar();\n        }\n      }\n    }, dropProps), calendar))];\n  }\n  return input;\n});\nDateInput.displayName = 'DateInput';\nDateInput.propTypes = DateInputPropTypes;\nexport { DateInput };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}